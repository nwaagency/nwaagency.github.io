backend:
  name: git-gateway
  branch: main

local_backend: true
site_url: "https://nexoraweb.agency"
display_url: "nexoraweb.agency"
logo_url: "https://placehold.co/200x50/111/D4AF37?text=CASINO+CRM" 

media_folder: "casino-platform/public/uploads"
public_folder: "/uploads"

editor:
  preview: true 

collections:
  # 1. BANKING MASTER LIST
  - name: "banking"
    
    label: "Banking"
    icon: "credit-card"
    folder: "casino-platform/src/content/banking"
    create: true
    identifier_field: "name"
    slug: "{{name}}"
    format: "json"
    fields:
      - {label: "Method Name", name: "name", widget: "string"}
      - {label: "Default Icon", name: "icon", widget: "image"}

  # 2. PROVIDERS MASTER LIST
  - name: "providers"
    label: "Providers"
    icon: "joystick"
    folder: "casino-platform/src/content/providers"
    create: true
    identifier_field: "name"
    slug: "{{name}}"
    format: "json"
    fields:
      - {label: "Provider Name", name: "name", widget: "string"}
      - {label: "Default Logo", name: "icon", widget: "image"}

  # 3. CASINOS COLLECTION
  - name: "casinos"
    preview_path_date_field: "updated_on"
    label: "Casinos"
    icon: "crown" 
    folder: "casino-platform/src/content/casinos" 
    create: true
    editor:
      visualEditing: true
    sortable_fields:
      - { field: ranking_visibility.rank, default_sort: desc }
    # We use a summary hack because 'name' is now nested
    summary: "{{ranking_visibility.rank}} - {{core_identity.name}} - {{core_identity.date}}"
    slug: "{{ranking_visibility.rank}}-{{core_identity.name}} - {{core_identity.date}}"
    fields:
      # GROUP 1: CORE IDENTITY
      - label: "Core Identity"
        name: "core_identity"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Active Status", name: "isActive", widget: "boolean", default: true, required: false}
          - {label: "Casino Name", name: "name", widget: "string", required: true}
          - {
            label: 'Publish Date',
            name: 'date',
            widget: 'datetime',
            format: 'DD.MM.YYYY HH:mm',
            default: '{{now}}',
          }
              
          


      # GROUP 2: RANKING & VISIBILITY
      - label: "Ranking & Visibility"
        name: "ranking_visibility"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Rank", name: "rank", widget: "number", value_type: "int", min: 1, required: true}
          - label: "Allowed Geos"
            name: "targeting_group"
            widget: "select"
            multiple: true
            options: ["global", "de", "at", "ca", "nz", "ie", "ch"]
            default: ["global"]
            required: true

      # GROUP 3: BRANDING & LINKS
      - label: "Branding & Links"
        name: "branding_links"
        widget: "object"
        collapsed: true
        fields:
          - {label: "Logo Image", name: "logo_url", widget: "image", required: true}
          - {label: "Affiliate Link", name: "affiliate_url", widget: "string", required: true}

      # GROUP 4: RATINGS & METRICS
      - label: "Ratings & Metrics"
        name: "ratings_metrics"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Rating Score", name: "rating", widget: "number", value_type: "float", step: 0.1, min: 0, max: 5, default: 0, required: true}
          - {label: "RTP %", name: "rtp", widget: "number", value_type: "float", step: 0.01, min: 0, max: 100, required: false}

      # GROUP 5: OFFER DATA
      - label: "Offer Data"
        name: "offer_data"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Bonus Headline", name: "bonus_headline", widget: "string", required: true, hint: "100% up to $500 + 200 Free Spins"}
          - {label: "Time to Wager", name: "wager_time", widget: "string", required: false, hint: "1-3 Days"}
          - {label: "Wagering Requirement", name: "wagering_req", widget: "string", required: false, hint: "30x"}
          - {label: "VIP / High Roller Offers", name: "vip_high_roller", widget: "string", required: false, hint: "Yes for deposits over â‚¬1000"}

      # GROUP 6: PAYMENT DATA
      - label: "Payment Data"
        name: "payment_data"
        widget: "object"
        collapsed: true
        fields:
          - {label: "Payout Speed", name: "payout_speed", widget: "string", required: true}
          - {label: "Min Deposit", name: "min_deposit", widget: "string", required: true}
          - label: "Banking Methods"
            name: "banking_list"
            widget: "list"
            summary: "{{data_ref}} {{custom_name}}"
            fields:
              - {label: "Select Method", name: "data_ref", widget: "relation", collection: "banking_data", search_fields: ["name"], value_field: "name", display_fields: ["name"], required: false}
              - {label: "Custom Name", name: "custom_name", widget: "string", required: false}
              - {label: "Icon Override", name: "custom_icon", widget: "image", required: false}

      # GROUP 7: GAMES & PROVIDERS
      - label: "Games & Providers"
        name: "games_providers"
        widget: "object"
        collapsed: true
        fields:
          - label: "Games Available"
            name: "game_types"
            widget: "select"
            multiple: true
            options: ["Slots", "Live Casino", "Table Games", "Jackpots", "Poker", "Sportsbook"]
            default: ["Slots"]
            required: true
          - {label: "Games Count", name: "game_count", widget: "number", value_type: "int", required: false}
          - label: "Providers"
            name: "providers_list"
            widget: "list"
            summary: "{{data_ref}} {{custom_name}}"
            fields:
              - {label: "Select Provider", name: "data_ref", widget: "relation", collection: "providers_data", search_fields: ["name"], value_field: "name", display_fields: ["name"], required: false}
              - {label: "Custom Name", name: "custom_name", widget: "string", required: false}
              - {label: "Logo Override", name: "custom_icon", widget: "image", required: false}

      # GROUP 8: TECHNICAL DETAILS
      - label: "Technical Details"
        name: "technical_details"
        widget: "object"
        collapsed: true
        fields:
          - {label: "License Info", name: "license", widget: "string", required: true}
          - {label: "Mobile App", name: "mobile_app", widget: "select", options: ["Android", "iPhone", "iPad", "Mac / PC", "Tablet"], multiple: true, required: false}
          - {label: "Customer Service", name: "customer_service", widget: "string", required: false}

  # 4. PAGES
  - name: "pages"
    label: "Pages"
    icon: "page"
    folder: "casino-platform/src/content/pages" 
    create: true
    identifier_field: "title"
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "SEO Description", name: "description", widget: "text"}
      - {label: "Body", name: "body", widget: "markdown"}

  # 5. SETTINGS
  - name: "settings"
    label: "Settings"
    icon: "settings"
    files:
      - name: "global"
        label: "Site Config"
        file: "casino-platform/src/content/settings/global.json" 
        fields:
          - {label: "Site Title", name: "site_title", widget: "string"}
          - {label: "Contact Email", name: "contact_email", widget: "string"}